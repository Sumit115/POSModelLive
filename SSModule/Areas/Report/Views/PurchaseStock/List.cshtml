@{
    ViewData["Title"] = "Product Wise Purchase";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="p-1">
    <div class="form-group row filter m-0 p-2 border-bottom">

        <div class="col-md-2">
            <input name="FromDate" type="date" id="FromDate" class="form-control" maxlength="10" placeholder="From Date*" required="" title="From Date*">
            <span class="field-validation-valid text-danger" data-valmsg-for="FromDate"></span>
        </div>
        <div class="col-md-2">
            <input name="ToDate" type="date" id="ToDate" class="form-control" maxlength="10" placeholder="To Date*" required="" title="To Date*">
            <span class="field-validation-valid text-danger" data-valmsg-for="ToDate"></span>
        </div>
        <div class="col-md-2">
            <select id="ReportType" class="form-select" onchange="Render();">
                <option value="S">Summary</option>
                <option value="M">Month Wise</option>
                <option value="D">Day Wise</option>
                @*    <option value="W">Monthly</option>
                <option value="Q">Quarterly</option>
                <option value="C">Cumulative</option>*@
            </select>
        </div>
        <div class="col-md-2">
            <select id="TranAlias" class="form-select" onchange="Render();">
                <option value="PINV">Purchase</option>
                <option value="PORD">Purchase Order</option>
            </select>
        </div>

        <div class="col-md-4 text-right">
            <div class="btn-group">
                <div class="dropdown">
                    <button type="button" class="btn btn-outline-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-funnel"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-end p-0" role="menu">

                        <a href="#" class="dropdown-item" onclick="ShowFilter('Product')" title="Product"><i class="bi bi-funnel"></i> Product</a>
                        <a href="#" class="dropdown-item" onclick="ShowFilter('Vendor')" title="Vendor"><i class="bi bi-funnel"></i> Vendor</a>
                    </div>
                </div>
            </div>
            <button class="btn btn-outline-info" onclick="Render('excel')" title="View"><i class="bi bi-download"></i></button>
            <button class="btn btn-info" onclick="Render('')" title="View"><i class="bi bi-send"></i> &nbsp;View</button>
        </div>
    </div>

    <div class="row m-0">
        <div id="WUCHM" class="col-12">
        </div>
    </div>
</div>
@section Scripts {
    <script src="/js/report/report.js"></script>
    <script>
        $(document).ready(function () {


            RPTOption.IdProperty = IdProperty = "sno";
            RPTOption.GridHeight = GridHeight = "85vh";
            RPTOption.Controller = Controller = 'PurchaseStock';
            var dt = new Date;
            document.getElementById("FromDate").valueAsDate = new Date();
            document.getElementById("ToDate").valueAsDate = new Date();
        });
        function Render(Export) {
            Common.Get(".filter", "", function (flag, _d) {
                if (flag) {
                    _d["pageNo"] = RPTOption.pageNo;
                    _d["pageSize"] = RPTOption.pageSize;
                    _d["ProductFilter"] = RPTFilter.Product.Filter;
                    _d["VendorFilter"] = RPTFilter.Vendor.Filter;
                    ViewData(_d, Export)
                }
            });
        }
    </script>

                }